2025-05-26T15:52:02.597Z - ERROR: req.originalUrl.strartWith is not a function
2025-05-26T16:54:46.658Z - ERROR: Cannot read properties of undefined (reading 'validate')
2025-05-26T16:56:20.298Z - ERROR: Cannot read properties of undefined (reading 'validate')
2025-05-26T16:58:23.170Z - ERROR: Cannot read properties of undefined (reading 'validate')2025-05-26T17:38:18.003Z - ERROR: Internal server error
2025-05-26T17:40:04.502Z - ERROR: Internal server error !
2025-05-26T17:46:34.403Z - ERROR: Internal server error !
2025-05-26T17:48:59.651Z - ERROR: Internal server error !
2025-05-26T17:52:19.185Z - ERROR: Internal server error !
2025-05-26T19:11:37.115Z - ERROR: StaffService.ChangeBranch is not a function - TypeError: StaffService.ChangeBranch is not a function
    at UpdateStaff (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Staff.controller.js:36:47)
    at Layer.handleRequest (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\layer.js:152:17)
    at next (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\route.js:157:13)
    at default (file:///D:/Najot%20talim/full-stak/54%20dars/src/middleware/validation/Staff.js:21:9)
    at Layer.handleRequest (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\layer.js:152:17)
    at next (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\route.js:157:13)
    at Route.dispatch (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\route.js:117:3)
    at handle (D:\Najot talim\full-stak\54 dars\node_modules\router\index.js:435:11)
    at Layer.handleRequest (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\layer.js:152:17)
    at D:\Najot talim\full-stak\54 dars\node_modules\router\index.js:295:15
2025-05-26T19:29:54.195Z - ERROR: resul is not defined - ReferenceError: resul is not defined
    at GetAllStaff (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Staff.controller.js:9:34)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-05-27T15:50:01.931Z - ERROR: E11000 duplicate key error collection: imtihon.staffs index: email_1 dup key: { email: "vali@gmail.com" } - Error: E11000 duplicate key error collection: imtihon.staffs index: email_1 dup key: { email: "vali@gmail.com" }
    at StaffService.registerStaff (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/Staff.service.js:52:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Register (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Staff.controller.js:33:28)
2025-05-27T15:59:22.494Z - ERROR: E11000 duplicate key error collection: imtihon.branches index: name_1 dup key: { name: "Jizzax-Transport" } - MongoServerError: E11000 duplicate key error collection: imtihon.branches index: name_1 dup key: { name: "Jizzax-Transport" }
    at InsertOneOperation.execute (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\insert.js:51:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.insertOne (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\collection.js:157:16)
2025-05-27T16:13:52.207Z - ERROR: Performing an update on the path '_id' would modify the immutable field '_id' - MongoServerError: Performing an update on the path '_id' would modify the immutable field '_id'
    at UpdateOneOperation.execute (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\update.js:75:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.updateOne (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\collection.js:207:16)
    at async model.Query.exec (D:\Najot talim\full-stak\54 dars\node_modules\mongoose\lib\query.js:4604:63)
    at async PermissionService.ChangePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/Permission.service.js:24:9)
    at async UpdatePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Permission.controller.js:36:28)
2025-05-27T16:15:20.271Z - ERROR: Performing an update on the path '_id' would modify the immutable field '_id' - MongoServerError: Performing an update on the path '_id' would modify the immutable field '_id'
    at UpdateOneOperation.execute (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\update.js:75:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.updateOne (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\collection.js:207:16)
    at async model.Query.exec (D:\Najot talim\full-stak\54 dars\node_modules\mongoose\lib\query.js:4604:63)
    at async PermissionService.ChangePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/Permission.service.js:24:9)
    at async UpdatePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Permission.controller.js:36:28)
2025-05-27T16:18:31.906Z - ERROR: id is not defined - ReferenceError: id is not defined
    at AdminPermissionService.ChangePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/AdminPermission.service.js:24:51)
    at UpdatePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/AdminPermission.controller.js:36:57)
    at Layer.handleRequest (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\layer.js:152:17)
    at next (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\route.js:157:13)
    at default (file:///D:/Najot%20talim/full-stak/54%20dars/src/middleware/chekToken.js:18:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-05-27T16:20:30.679Z - ERROR: id is not defined - ReferenceError: id is not defined
    at AdminPermissionService.ChangePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/AdminPermission.service.js:24:51)
    at UpdatePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/AdminPermission.controller.js:36:57)
    at Layer.handleRequest (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\layer.js:152:17)
    at next (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\route.js:157:13)
    at default (file:///D:/Najot%20talim/full-stak/54%20dars/src/middleware/chekToken.js:18:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-05-27T16:21:49.890Z - ERROR: id is not defined - ReferenceError: id is not defined
    at AdminPermissionService.ChangePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/AdminPermission.service.js:24:51)
    at UpdatePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/AdminPermission.controller.js:36:57)
    at Layer.handleRequest (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\layer.js:152:17)
    at next (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\route.js:157:13)
    at default (file:///D:/Najot%20talim/full-stak/54%20dars/src/middleware/chekToken.js:18:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-05-27T16:22:23.376Z - ERROR: id is not defined - ReferenceError: id is not defined
    at AdminPermissionService.ChangePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/AdminPermission.service.js:24:51)
    at UpdatePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/AdminPermission.controller.js:36:57)
    at Layer.handleRequest (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\layer.js:152:17)
    at next (D:\Najot talim\full-stak\54 dars\node_modules\router\lib\route.js:157:13)
    at default (file:///D:/Najot%20talim/full-stak/54%20dars/src/middleware/chekToken.js:18:9)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
2025-05-27T16:23:27.137Z - ERROR: Performing an update on the path '_id' would modify the immutable field '_id' - MongoServerError: Performing an update on the path '_id' would modify the immutable field '_id'
    at UpdateOneOperation.execute (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\update.js:75:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async tryOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:207:20)
    at async executeOperation (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\operations\execute_operation.js:75:16)
    at async Collection.updateOne (D:\Najot talim\full-stak\54 dars\node_modules\mongodb\lib\collection.js:207:16)
    at async model.Query.exec (D:\Najot talim\full-stak\54 dars\node_modules\mongoose\lib\query.js:4604:63)
    at async PermissionService.ChangePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/Permission.service.js:24:9)
    at async UpdatePermission (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Permission.controller.js:36:28)
2025-05-27T16:30:04.925Z - ERROR: Cast to ObjectId failed for value "{ _id: undefined }" (type Object) at path "_id" for model "Staff" - Error: Cast to ObjectId failed for value "{ _id: undefined }" (type Object) at path "_id" for model "Staff"
    at StaffService.ChangeStaff (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/Staff.service.js:83:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async UpdateStaff (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Staff.controller.js:60:28)
2025-05-27T19:40:01.664Z - ERROR: E11000 duplicate key error collection: imtihon.staffs index: email_1 dup key: { email: "m701rizo@gmail.com" } - Error: E11000 duplicate key error collection: imtihon.staffs index: email_1 dup key: { email: "m701rizo@gmail.com" }
    at StaffService.registerStaff (file:///D:/Najot%20talim/full-stak/54%20dars/src/service/Staff.service.js:74:19)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Register (file:///D:/Najot%20talim/full-stak/54%20dars/src/controller/Staff.controller.js:33:28)
